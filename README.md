
# 🧍‍♂️ ストレートネック＆肩の傾き測定プログラム

このプロジェクトのREADMEは以下の言語でご覧いただけます。  
言語を選択してください：

🇯🇵 日本語（現在表示中）  
🇰🇷 [한국어 버전 이동](./README_kr.md)

---

# 🧍‍♂️ ストレートネック＆肩の傾きリアルタイム測定Webアプリ

> **Webカメラ + Pose Detection + Vue.js + Node.js**  
> リアルタイムで姿勢を分析し、ストレートネックや肩の非対称を測定するプロジェクト  
> 📷 Webカメラを起動するだけで → 📐 角度を自動測定 → 📝 分析結果を提供

---

## 📌 プロジェクト概要

現代人の姿勢の問題（ストレートネック、肩の非対称）を改善するために、  
**Webカメラを利用したリアルタイム姿勢測定システム**を開発しました。

- Webカメラで上半身を撮影  
- **ディープラーニングベースのPose Detection**で首と肩の角度を自動計算  
- 測定された角度を分析し、**姿勢の要約カード**とフィードバックを提供

---

## 🎥 デモ動画

> 📸 リアルタイム測定と結果画面の例

### 📍 測定中の画面  
![Posture Demo](./posture_demo.gif)

### 📍 測定結果の画面  
![Measurement Result](./measurement_result.gif)

- 上: Webカメラを起動し、リアルタイムで姿勢を測定する場面  
- 下: 測定完了後にユーザーに提供される分析結果画面

---

## 🛠️ 使用技術

| 区分 | 技術 |
|------|------|
| **フロントエンド** | Vue.js, Chart.js |
| **バックエンド** | Node.js, Express, MySQL |
| **AIモデル** | Mediapipe Pose |
| **その他** | Webカメラストリーミング, REST API, ドーナツチャート可視化など |

---

## ✨ 主な機能の概要

- リアルタイムのWebカメラ姿勢測定  
- 首の角度 / 肩の非対称を自動抽出  
- 最も良い姿勢 / 悪い姿勢の画像を保存  
- 分析要約カードとドーナツチャートで視覚化  
- マイページで履歴確認が可能

---

### 📁 フロントエンドのディレクトリ構造

- `components/`  
  - 測定機能(`measure/`)、結果表示(`feedback/`, `report/`)、画像管理(`photo/`)など、  
    **機能別にフォルダ分けしてコンポーネントをモジュール化**  
  - 保守性とビュー間の独立性を確保

- `router/`  
  - ページルーティングを担当（測定ページ、マイページなど）

- `api.js`  
  - バックエンドとの通信処理を共通定義

- `App.vue / main.js`  
  - プロジェクトのエントリーポイントと全体設定

---

### 📁 バックエンドのディレクトリ構成（Node.js + Express）

- `config/db.js`  
  - MySQL接続設定

- `controllers/`  
  - 各機能別の処理ロジック（姿勢測定の保存、写真アップロードなど）

- `routes/`  
  - 認証、姿勢、写真等のREST APIルート定義  
  - 例：`/api/posture/save`, `/api/photos/upload` など

- `newback/`  
  - ルート構成と設定ファイル管理用

---

## 🔍 技術的な考慮事項と改善ポイント

本プロジェクトでは、単なる実装にとどまらず、ユーザーの行動や環境を考慮して以下のような改善を行いました。

---

### 1. 📐 ストレートネック角度の基準設計

- 耳と肩を結ぶベクトルの傾きを用いて首角度を導出し、  
  **135°以上の場合にストレートネックと判断**する方式を採用  
- より**客観的で精密な測定**が可能に

---

### 2. 🎥 静止画 → 動画による連続測定に変更

- 初期は1枚撮影方式 → 実際の姿勢を反映하기 어려움  
- 測定時間中に連続フレームを取得し、**最小角度/最大角度のフレームを自動抽出**

---

### 3. 🏆 最適 / 最悪の姿勢自動判定・保存

- 全フレームの角度を比較し、自動で最適/最悪フレームを判定  
- 角度、肩の傾き、測定時刻などのメタデータとともにサーバーに保存

---

### 4. 🧠 SPA構成によるシームレスUX

- Vue + Node.js + ExpressのSPA構成で、測定→確認→再測定の流れがスムーズ  
- REST APIベースでリアルタイムデータの送受信を実現

---

### 5. 🔐 ユーザーごとのデータ蓄積・識別

- localStorageで取得したユーザーIDと測定データを紐づけ  
- **個人の姿勢履歴管理や、将来のレポート拡張が可能**

---

## 🙋 開発者

| 名前 | 役割 |
|------|------|
| キムミンジョン | システム設計全般、フロント/バックエンド構築、AI測定ロジック実装 |
